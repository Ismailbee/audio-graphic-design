<template>  <div class="panel">    <div class="search-bar">      <i class="fas fa-search"></i>      <input type="text" placeholder="Search elements..." v-model="searchQuery">    </div>    <div class="elements-grid">      <div         v-for="element in filteredElements"         :key="element.name"         class="element-item"        draggable="true"        @dragstart="onDragStart($event, element)"        @click="addElementToCanvas(element)"      >        <div class="element-preview" v-html="element.icon"></div>        <div class="element-name">{{ element.name }}</div>      </div>    </div>  </div></template><script setup>import { ref, computed } from 'vue';import { useCanvasStore } from '../../../../stores/canvas-konva';import { useNotification } from '../../../../composables/useNotification';const canvasStore = useCanvasStore();const { showSuccess } = useNotification();const searchQuery = ref('');const elements = ref([  { name: 'Rectangle', type: 'shape', icon: '<svg viewBox="0 0 100 100"><rect width="80" height="80" x="10" y="10" fill="#4f46e5"></rect></svg>', options: { type: 'rect', fill: '#4f46e5', width: 100, height: 100 } },  { name: 'Circle', type: 'shape', icon: '<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="#34d399"></circle></svg>', options: { type: 'circle', fill: '#34d399', radius: 50 } },  { name: 'Triangle', type: 'shape', icon: '<svg viewBox="0 0 100 100"><polygon points="50,10 90,90 10,90" fill="#f59e0b"></polygon></svg>', options: { type: 'triangle', fill: '#f59e0b', sides: 3, radius: 50 } },  { name: 'Star', type: 'shape', icon: '<svg viewBox="0 0 100 100"><polygon points="50,5 61,40 98,40 68,62 79,96 50,75 21,96 32,62 2,40 39,40" fill="#ef4444"></polygon></svg>', options: { type: 'star', fill: '#ef4444', numPoints: 5, innerRadius: 20, outerRadius: 50 } },  { name: 'Line', type: 'line', icon: '<svg viewBox="0 0 100 100"><line x1="10" y1="50" x2="90" y2="50" stroke="#6b7280" stroke-width="8"></line></svg>', options: { type: 'line', stroke: '#6b7280', points: [0, 0, 200, 0] } },  { name: 'Arrow', type: 'line', icon: '<svg viewBox="0 0 100 100"><line x1="10" y1="50" x2="80" y2="50" stroke="#6b7280" stroke-width="8"></line><polygon points="95,50 80,40 80,60" fill="#6b7280"></polygon></svg>', options: { type: 'arrow', stroke: '#6b7280', points: [0, 0, 200, 0] } },  { name: 'Icon', type: 'icon', icon: '<i class="fas fa-icons text-3xl text-indigo-500"></i>', options: { type: 'icon', icon: 'fa-star' } },  { name: 'Chart', type: 'chart', icon: '<i class="fas fa-chart-bar text-3xl text-green-500"></i>', options: { type: 'chart', chartType: 'bar' } },]);const filteredElements = computed(() => {  if (!searchQuery.value) return elements.value;  return elements.value.filter(el => el.name.toLowerCase().includes(searchQuery.value.toLowerCase()));});function addElementToCanvas(element) {  const center = getCanvasCenter();  canvasStore.addElement(element.options.type, {    ...element.options,    x: center.x,    y: center.y,  });  showSuccess(`Added ${element.name}`);}function onDragStart(event, element) {  const data = {    type: element.options.type,    options: element.options  };  event.dataTransfer.setData('application/json', JSON.stringify(data));  event.dataTransfer.effectAllowed = 'copy';}function getCanvasCenter() {  if (canvasStore.stageInstance) {    const stage = canvasStore.stageInstance;    const zoom = stage.scaleX();    return {      x: (stage.width() / 2) / zoom,      y: (stage.height() / 2) / zoom,    };  }  return { x: 200, y: 200 };}</script><style scoped>.panel {  display: flex;  flex-direction: column;  gap: 16px;  height: 100%;}.search-bar {  position: relative;}.search-bar i {  position: absolute;  left: 12px;  top: 50%;  transform: translateY(-50%);  color: #9ca3af;}.search-bar input {  width: 100%;  padding: 10px 12px 10px 36px;  border-radius: 8px;  border: 1px solid #e5e7eb;  background-color: white;}.dark-theme .search-bar input {  background-color: #1f2937;  border-color: #374151;  color: #e5e7eb;}.elements-grid {  flex: 1;  display: grid;  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));  gap: 12px;  overflow-y: auto;  padding-right: 4px;}.element-item {  display: flex;  flex-direction: column;  align-items: center;  gap: 8px;  padding: 12px 8px;  border-radius: 8px;  cursor: pointer;  transition: background-color 0.2s;}.element-item:hover {  background-color: #f3f4f6;}.dark-theme .element-item:hover {  background-color: #374151;}.element-preview {  width: 50px;  height: 50px;  display: flex;  align-items: center;  justify-content: center;}.element-preview svg, .element-preview i {  width: 100%;  height: 100%;  object-fit: contain;}.element-name {  font-size: 12px;  font-weight: 500;  color: #4b5563;  text-align: center;}.dark-theme .element-name {  color: #d1d5db;}</style>